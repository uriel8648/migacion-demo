"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var isAngularClass = function (value) {
    if (value.Éµprov) {
        return true;
    }
    if (value.__annotations__) {
        return true;
    }
    if (value.__parameters__) {
        return true;
    }
    if (value.parameters) {
        return true;
    }
    return false;
};
var guessClass = function (name, proto, value) {
    // unnamed classes can be class_N
    if (name.match(/^class/) !== null) {
        return true;
    }
    // let's consider an existing 'prototype' as a class
    if (Object.keys(value.prototype).length > 0) {
        return true;
    }
    // let's consider a capital name and 'this' usage as a class
    var clsCode = name.charCodeAt(0);
    if (clsCode >= 65 && clsCode <= 90 && proto.match(/\bthis\./gm) !== null) {
        return true;
    }
    // webpack es5 class
    var regEx = new RegExp("\\(this,\\s*" + name + "\\)", 'mg');
    // istanbul ignore if
    if (proto.match(regEx) !== null) {
        return true;
    }
    return false;
};
exports.default = (function (value) {
    if (typeof value !== 'function') {
        return false;
    }
    if (!value.prototype) {
        return true;
    }
    if (isAngularClass(value)) {
        return false;
    }
    var proto = value.toString();
    // es2015 class
    // istanbul ignore if
    if (proto.match(/^class\b/) !== null) {
        return false;
    }
    var cls = proto.match(/^function\s+([^\(\s]+)\(/);
    if (cls === null) {
        return true;
    }
    if (guessClass(cls[1], proto, value)) {
        return false;
    }
    return true;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hlY2suaXMtZnVuYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmctbW9ja3Mvc3JjL2xpYi9tb2NrLXNlcnZpY2UvY2hlY2suaXMtZnVuYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sY0FBYyxHQUFHLFVBQUMsS0FBaUM7SUFDdkQsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFO1FBQ2YsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUNELElBQUksS0FBSyxDQUFDLGVBQWUsRUFBRTtRQUN6QixPQUFPLElBQUksQ0FBQztLQUNiO0lBQ0QsSUFBSSxLQUFLLENBQUMsY0FBYyxFQUFFO1FBQ3hCLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFDRCxJQUFJLEtBQUssQ0FBQyxVQUFVLEVBQUU7UUFDcEIsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsSUFBTSxVQUFVLEdBQUcsVUFBQyxJQUFZLEVBQUUsS0FBYSxFQUFFLEtBQVU7SUFDekQsaUNBQWlDO0lBQ2pDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxJQUFJLEVBQUU7UUFDakMsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELG9EQUFvRDtJQUNwRCxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDM0MsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELDREQUE0RDtJQUM1RCxJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ25DLElBQUksT0FBTyxJQUFJLEVBQUUsSUFBSSxPQUFPLElBQUksRUFBRSxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssSUFBSSxFQUFFO1FBQ3hFLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFFRCxvQkFBb0I7SUFDcEIsSUFBTSxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsaUJBQWUsSUFBSSxRQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDekQscUJBQXFCO0lBQ3JCLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxJQUFJLEVBQUU7UUFDL0IsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsbUJBQWUsVUFBQyxLQUFVO0lBQ3hCLElBQUksT0FBTyxLQUFLLEtBQUssVUFBVSxFQUFFO1FBQy9CLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7SUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRTtRQUNwQixPQUFPLElBQUksQ0FBQztLQUNiO0lBQ0QsSUFBSSxjQUFjLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDekIsT0FBTyxLQUFLLENBQUM7S0FDZDtJQUVELElBQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUUvQixlQUFlO0lBQ2YscUJBQXFCO0lBQ3JCLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsS0FBSyxJQUFJLEVBQUU7UUFDcEMsT0FBTyxLQUFLLENBQUM7S0FDZDtJQUVELElBQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FBQztJQUNwRCxJQUFJLEdBQUcsS0FBSyxJQUFJLEVBQUU7UUFDaEIsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUNELElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLEVBQUU7UUFDcEMsT0FBTyxLQUFLLENBQUM7S0FDZDtJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyxFQUFDIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaXNBbmd1bGFyQ2xhc3MgPSAodmFsdWU6IFJlY29yZDxrZXlvZiBhbnksIHVua25vd24+KTogYm9vbGVhbiA9PiB7XG4gIGlmICh2YWx1ZS7JtXByb3YpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodmFsdWUuX19hbm5vdGF0aW9uc19fKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHZhbHVlLl9fcGFyYW1ldGVyc19fKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHZhbHVlLnBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IGd1ZXNzQ2xhc3MgPSAobmFtZTogc3RyaW5nLCBwcm90bzogc3RyaW5nLCB2YWx1ZTogYW55KTogYm9vbGVhbiA9PiB7XG4gIC8vIHVubmFtZWQgY2xhc3NlcyBjYW4gYmUgY2xhc3NfTlxuICBpZiAobmFtZS5tYXRjaCgvXmNsYXNzLykgIT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIGxldCdzIGNvbnNpZGVyIGFuIGV4aXN0aW5nICdwcm90b3R5cGUnIGFzIGEgY2xhc3NcbiAgaWYgKE9iamVjdC5rZXlzKHZhbHVlLnByb3RvdHlwZSkubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gbGV0J3MgY29uc2lkZXIgYSBjYXBpdGFsIG5hbWUgYW5kICd0aGlzJyB1c2FnZSBhcyBhIGNsYXNzXG4gIGNvbnN0IGNsc0NvZGUgPSBuYW1lLmNoYXJDb2RlQXQoMCk7XG4gIGlmIChjbHNDb2RlID49IDY1ICYmIGNsc0NvZGUgPD0gOTAgJiYgcHJvdG8ubWF0Y2goL1xcYnRoaXNcXC4vZ20pICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyB3ZWJwYWNrIGVzNSBjbGFzc1xuICBjb25zdCByZWdFeCA9IG5ldyBSZWdFeHAoYFxcXFwodGhpcyxcXFxccyoke25hbWV9XFxcXClgLCAnbWcnKTtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChwcm90by5tYXRjaChyZWdFeCkgIT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0ICh2YWx1ZTogYW55KTogYm9vbGVhbiA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCF2YWx1ZS5wcm90b3R5cGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoaXNBbmd1bGFyQ2xhc3ModmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgcHJvdG8gPSB2YWx1ZS50b1N0cmluZygpO1xuXG4gIC8vIGVzMjAxNSBjbGFzc1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHByb3RvLm1hdGNoKC9eY2xhc3NcXGIvKSAhPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGNscyA9IHByb3RvLm1hdGNoKC9eZnVuY3Rpb25cXHMrKFteXFwoXFxzXSspXFwoLyk7XG4gIGlmIChjbHMgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoZ3Vlc3NDbGFzcyhjbHNbMV0sIHByb3RvLCB2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG4iXX0=