"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var func_is_ng_def_1 = require("../common/func.is-ng-def");
var ng_mocks_universe_1 = __importDefault(require("../common/ng-mocks-universe"));
var func_global_prepare_1 = __importDefault(require("./func.global-prepare"));
exports.default = (function (source, destination) {
    var fail = true;
    if ((0, func_is_ng_def_1.isNgDef)(source, 'm') && (0, func_is_ng_def_1.isNgDef)(destination, 'm')) {
        fail = false;
    }
    else if ((0, func_is_ng_def_1.isNgDef)(source, 'c') && (0, func_is_ng_def_1.isNgDef)(destination, 'c')) {
        fail = false;
    }
    else if ((0, func_is_ng_def_1.isNgDef)(source, 'd') && (0, func_is_ng_def_1.isNgDef)(destination, 'd')) {
        fail = false;
    }
    else if ((0, func_is_ng_def_1.isNgDef)(source, 'p') && (0, func_is_ng_def_1.isNgDef)(destination, 'p')) {
        fail = false;
    }
    if (fail) {
        throw new Error('Cannot replace the declaration, both have to be a Module, a Component, a Directive or a Pipe');
    }
    (0, func_global_prepare_1.default)();
    ng_mocks_universe_1.default.getDefaults().set(source, ['replace', destination]);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9jay1oZWxwZXIuZ2xvYmFsLXJlcGxhY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL25nLW1vY2tzL3NyYy9saWIvbW9jay1oZWxwZXIvbW9jay1oZWxwZXIuZ2xvYmFsLXJlcGxhY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSwyREFBbUQ7QUFDbkQsa0ZBQTBEO0FBRTFELDhFQUFzRDtBQUV0RCxtQkFBZSxVQUFDLE1BQW9CLEVBQUUsV0FBeUI7SUFDN0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2hCLElBQUksSUFBQSx3QkFBTyxFQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxJQUFBLHdCQUFPLEVBQUMsV0FBVyxFQUFFLEdBQUcsQ0FBQyxFQUFFO1FBQ3JELElBQUksR0FBRyxLQUFLLENBQUM7S0FDZDtTQUFNLElBQUksSUFBQSx3QkFBTyxFQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxJQUFBLHdCQUFPLEVBQUMsV0FBVyxFQUFFLEdBQUcsQ0FBQyxFQUFFO1FBQzVELElBQUksR0FBRyxLQUFLLENBQUM7S0FDZDtTQUFNLElBQUksSUFBQSx3QkFBTyxFQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxJQUFBLHdCQUFPLEVBQUMsV0FBVyxFQUFFLEdBQUcsQ0FBQyxFQUFFO1FBQzVELElBQUksR0FBRyxLQUFLLENBQUM7S0FDZDtTQUFNLElBQUksSUFBQSx3QkFBTyxFQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxJQUFBLHdCQUFPLEVBQUMsV0FBVyxFQUFFLEdBQUcsQ0FBQyxFQUFFO1FBQzVELElBQUksR0FBRyxLQUFLLENBQUM7S0FDZDtJQUVELElBQUksSUFBSSxFQUFFO1FBQ1IsTUFBTSxJQUFJLEtBQUssQ0FBQyw4RkFBOEYsQ0FBQyxDQUFDO0tBQ2pIO0lBRUQsSUFBQSw2QkFBaUIsR0FBRSxDQUFDO0lBQ3BCLDJCQUFlLENBQUMsV0FBVyxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLFNBQVMsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO0FBQ3RFLENBQUMsRUFBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFueVR5cGUgfSBmcm9tICcuLi9jb21tb24vY29yZS50eXBlcyc7XG5pbXBvcnQgeyBpc05nRGVmIH0gZnJvbSAnLi4vY29tbW9uL2Z1bmMuaXMtbmctZGVmJztcbmltcG9ydCBuZ01vY2tzVW5pdmVyc2UgZnJvbSAnLi4vY29tbW9uL25nLW1vY2tzLXVuaXZlcnNlJztcblxuaW1wb3J0IGZ1bmNHbG9iYWxQcmVwYXJlIGZyb20gJy4vZnVuYy5nbG9iYWwtcHJlcGFyZSc7XG5cbmV4cG9ydCBkZWZhdWx0IChzb3VyY2U6IEFueVR5cGU8YW55PiwgZGVzdGluYXRpb246IEFueVR5cGU8YW55Pik6IHZvaWQgPT4ge1xuICBsZXQgZmFpbCA9IHRydWU7XG4gIGlmIChpc05nRGVmKHNvdXJjZSwgJ20nKSAmJiBpc05nRGVmKGRlc3RpbmF0aW9uLCAnbScpKSB7XG4gICAgZmFpbCA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKGlzTmdEZWYoc291cmNlLCAnYycpICYmIGlzTmdEZWYoZGVzdGluYXRpb24sICdjJykpIHtcbiAgICBmYWlsID0gZmFsc2U7XG4gIH0gZWxzZSBpZiAoaXNOZ0RlZihzb3VyY2UsICdkJykgJiYgaXNOZ0RlZihkZXN0aW5hdGlvbiwgJ2QnKSkge1xuICAgIGZhaWwgPSBmYWxzZTtcbiAgfSBlbHNlIGlmIChpc05nRGVmKHNvdXJjZSwgJ3AnKSAmJiBpc05nRGVmKGRlc3RpbmF0aW9uLCAncCcpKSB7XG4gICAgZmFpbCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKGZhaWwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZXBsYWNlIHRoZSBkZWNsYXJhdGlvbiwgYm90aCBoYXZlIHRvIGJlIGEgTW9kdWxlLCBhIENvbXBvbmVudCwgYSBEaXJlY3RpdmUgb3IgYSBQaXBlJyk7XG4gIH1cblxuICBmdW5jR2xvYmFsUHJlcGFyZSgpO1xuICBuZ01vY2tzVW5pdmVyc2UuZ2V0RGVmYXVsdHMoKS5zZXQoc291cmNlLCBbJ3JlcGxhY2UnLCBkZXN0aW5hdGlvbl0pO1xufTtcbiJdfQ==