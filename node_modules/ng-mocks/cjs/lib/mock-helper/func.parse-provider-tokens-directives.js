"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_injector_1 = __importDefault(require("../common/core.injector"));
var core_reflect_directive_resolve_1 = __importDefault(require("../common/core.reflect.directive-resolve"));
var func_get_provider_1 = __importDefault(require("../common/func.get-provider"));
var getMeta = function (token) {
    try {
        return (0, core_reflect_directive_resolve_1.default)(token);
    }
    catch (e) {
        // Looks like it is a token.
    }
    return undefined;
};
exports.default = (function (el, token) {
    // istanbul ignore if
    if (!el) {
        return undefined;
    }
    try {
        var provider = (0, func_get_provider_1.default)(token);
        var instance = (0, core_injector_1.default)(provider, el.injector);
        return getMeta(instance.constructor);
    }
    catch (e) {
        return undefined;
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnVuYy5wYXJzZS1wcm92aWRlci10b2tlbnMtZGlyZWN0aXZlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmctbW9ja3Mvc3JjL2xpYi9tb2NrLWhlbHBlci9mdW5jLnBhcnNlLXByb3ZpZGVyLXRva2Vucy1kaXJlY3RpdmVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBRUEsMEVBQW1EO0FBQ25ELDRHQUFtRjtBQUNuRixrRkFBMEQ7QUFFMUQsSUFBTSxPQUFPLEdBQUcsVUFBQyxLQUFVO0lBQ3pCLElBQUk7UUFDRixPQUFPLElBQUEsd0NBQTJCLEVBQUMsS0FBSyxDQUFDLENBQUM7S0FDM0M7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNWLDRCQUE0QjtLQUM3QjtJQUVELE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQztBQUVGLG1CQUFlLFVBQUMsRUFBZ0MsRUFBRSxLQUFVO0lBQzFELHFCQUFxQjtJQUNyQixJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ1AsT0FBTyxTQUFTLENBQUM7S0FDbEI7SUFFRCxJQUFJO1FBQ0YsSUFBTSxRQUFRLEdBQUcsSUFBQSwyQkFBZSxFQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hDLElBQU0sUUFBUSxHQUFHLElBQUEsdUJBQVksRUFBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRXJELE9BQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztLQUN0QztJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsT0FBTyxTQUFTLENBQUM7S0FDbEI7QUFDSCxDQUFDLEVBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWJ1Z05vZGUsIERpcmVjdGl2ZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgY29yZUluamVjdG9yIGZyb20gJy4uL2NvbW1vbi9jb3JlLmluamVjdG9yJztcbmltcG9ydCBjb3JlUmVmbGVjdERpcmVjdGl2ZVJlc29sdmUgZnJvbSAnLi4vY29tbW9uL2NvcmUucmVmbGVjdC5kaXJlY3RpdmUtcmVzb2x2ZSc7XG5pbXBvcnQgZnVuY0dldFByb3ZpZGVyIGZyb20gJy4uL2NvbW1vbi9mdW5jLmdldC1wcm92aWRlcic7XG5cbmNvbnN0IGdldE1ldGEgPSAodG9rZW46IGFueSk6IERpcmVjdGl2ZSB8IHVuZGVmaW5lZCA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGNvcmVSZWZsZWN0RGlyZWN0aXZlUmVzb2x2ZSh0b2tlbik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBMb29rcyBsaWtlIGl0IGlzIGEgdG9rZW4uXG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgKGVsOiBEZWJ1Z05vZGUgfCBudWxsIHwgdW5kZWZpbmVkLCB0b2tlbjogYW55KTogRGlyZWN0aXZlIHwgdW5kZWZpbmVkID0+IHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmICghZWwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBwcm92aWRlciA9IGZ1bmNHZXRQcm92aWRlcih0b2tlbik7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBjb3JlSW5qZWN0b3IocHJvdmlkZXIsIGVsLmluamVjdG9yKTtcblxuICAgIHJldHVybiBnZXRNZXRhKGluc3RhbmNlLmNvbnN0cnVjdG9yKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG4iXX0=